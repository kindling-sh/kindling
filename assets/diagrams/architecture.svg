<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 920 660">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#666"/>
    </marker>
    <marker id="arrow-dashed" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#999"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="920" height="660" rx="8" fill="#fafafa"/>

  <!-- â•â•â•â•â•â•â• External nodes â•â•â•â•â•â•â• -->

  <!-- Developer -->
  <rect x="30" y="18" width="140" height="55" rx="20" fill="#e1d5e7" stroke="#9673a6" stroke-width="2"/>
  <text x="100" y="50" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="14" fill="#333">ğŸ‘©â€ğŸ’» Developer</text>

  <!-- GitHub -->
  <rect x="750" y="18" width="140" height="55" rx="20" fill="#f5f5f5" stroke="#666" stroke-width="2"/>
  <text x="820" y="50" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="14" fill="#333">ğŸ™ GitHub</text>

  <!-- Edge: Developer â†’ GitHub (git push) -->
  <line x1="170" y1="45" x2="745" y2="45" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="450" y="38" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="11" fill="#666">git push</text>

  <!-- â•â•â•â•â•â•â• Developer's Machine â•â•â•â•â•â•â• -->
  <rect x="15" y="100" width="890" height="545" rx="14" fill="none" stroke="#333" stroke-width="2"/>
  <text x="460" y="125" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="16" font-weight="700" fill="#333">ğŸ–¥ï¸  Developer's Machine</text>

  <!-- â•â•â•â•â•â•â• Kind Cluster â•â•â•â•â•â•â• -->
  <rect x="35" y="145" width="550" height="480" rx="12" fill="none" stroke="#326CE5" stroke-width="2"/>
  <text x="310" y="170" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="15" font-weight="700" fill="#326CE5">â˜¸  Kind Cluster</text>

  <!-- kindling operator -->
  <rect x="60" y="190" width="160" height="55" rx="10" fill="#FF6B35" stroke="#FF6B35" stroke-width="2"/>
  <text x="140" y="213" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#fff">ğŸ”¥ kindling</text>
  <text x="140" y="233" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#fff">operator</text>

  <!-- ingress-nginx -->
  <rect x="310" y="190" width="175" height="55" rx="10" fill="#fff2cc" stroke="#d6b656" stroke-width="2"/>
  <text x="398" y="213" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#333">ğŸ”¶ ingress-nginx</text>
  <text x="398" y="233" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#333">controller</text>

  <!-- Runner Pod -->
  <rect x="60" y="285" width="200" height="60" rx="10" fill="#d5e8d4" stroke="#82b366" stroke-width="2"/>
  <text x="160" y="310" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#333">ğŸƒ Runner Pod</text>
  <text x="160" y="330" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="11" fill="#666" font-style="italic">runner + build-agent</text>

  <!-- registry:5000 -->
  <rect x="330" y="290" width="160" height="50" rx="10" fill="#fff2cc" stroke="#d6b656" stroke-width="2"/>
  <text x="410" y="320" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#333">ğŸ“¦ registry:5000</text>

  <!-- Edge: Runner â†’ Registry (Kaniko build) -->
  <line x1="260" y1="315" x2="325" y2="315" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="293" y="308" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#666">Kaniko build</text>

  <!-- Edge: Runner â†’ Operator (applies CR) -->
  <line x1="120" y1="285" x2="120" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="95" y="270" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#666" transform="rotate(-90 95 270)">applies CR</text>

  <!-- â•â•â•â•â•â•â• DevStagingEnvironment â•â•â•â•â•â•â• -->
  <rect x="60" y="390" width="490" height="220" rx="10" fill="#dae8fc" stroke="#6c8ebf" stroke-width="2"/>
  <text x="305" y="415" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="14" font-weight="700" fill="#333">âˆ DevStagingEnvironment</text>

  <!-- App Deployment -->
  <rect x="80" y="430" width="110" height="50" rx="8" fill="#326CE5" stroke="#326CE5" stroke-width="2"/>
  <text x="135" y="452" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="12" fill="#fff">ğŸ”· App</text>
  <text x="135" y="468" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="12" fill="#fff">Deployment</text>

  <!-- Service -->
  <rect x="205" y="430" width="100" height="50" rx="8" fill="#fff2cc" stroke="#d6b656" stroke-width="2"/>
  <text x="255" y="460" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="12" fill="#333">ğŸ”¶ Service</text>

  <!-- Ingress -->
  <rect x="320" y="430" width="100" height="50" rx="8" fill="#d5e8d4" stroke="#82b366" stroke-width="2"/>
  <text x="370" y="460" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="12" fill="#333">ğŸŒ Ingress</text>

  <!-- Postgres -->
  <rect x="80" y="498" width="100" height="40" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="1"/>
  <text x="130" y="523" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="11" fill="#555">ğŸ˜ Postgres</text>

  <!-- Redis -->
  <rect x="195" y="498" width="90" height="40" rx="8" fill="#f5f5f5" stroke="#999" stroke-width="1"/>
  <text x="240" y="523" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="11" fill="#555">âš¡ Redis</text>

  <!-- More deps -->
  <text x="380" y="523" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="11" fill="#999" font-style="italic">+ 13 more dep types</text>

  <!-- Edge: Registry â†’ Staging (image pull) -->
  <path d="M 410,340 L 410,385" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="430" y="368" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#666">image pull</text>

  <!-- Edge: Operator â†’ Staging (reconciles) -->
  <path d="M 140,245 L 140,385" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="115" y="335" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#666" transform="rotate(-90 115 335)">reconciles</text>

  <!-- â•â•â•â•â•â•â• Outside cluster, inside machine â•â•â•â•â•â•â• -->

  <!-- Dashboard -->
  <rect x="640" y="195" width="230" height="55" rx="10" fill="#FFD23F" stroke="#d6b656" stroke-width="2"/>
  <text x="755" y="218" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#333">ğŸ–¥ï¸ Dashboard</text>
  <text x="755" y="238" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="11" fill="#666" font-style="italic">localhost:9090</text>

  <!-- kindling sync -->
  <rect x="640" y="310" width="230" height="55" rx="10" fill="#e1d5e7" stroke="#9673a6" stroke-width="2"/>
  <text x="755" y="333" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="13" fill="#333">ğŸ”„ kindling sync</text>
  <text x="755" y="353" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="11" fill="#666" font-style="italic">file watch + hot reload</text>

  <!-- Edge: Dashboard â†’ Staging (sync/load) - dashed -->
  <path d="M 640,230 L 590,230 L 590,440 L 555,440" fill="none" stroke="#999" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrow-dashed)"/>
  <text x="598" y="360" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#999">sync / load</text>

  <!-- Edge: Sync â†’ Staging (kubectl cp) - dashed -->
  <path d="M 640,345 L 600,345 L 600,480 L 555,480" fill="none" stroke="#999" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrow-dashed)"/>
  <text x="608" y="430" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#999">kubectl cp</text>

  <!-- Edge: GitHub â†’ Runner (dispatches job) -->
  <path d="M 880,73 L 880,275 L 265,275 L 265,285" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="620" y="268" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#666">dispatches job â†’ runs-on: self-hosted</text>

  <!-- Edge: Staging â†’ Developer (localhost:80) - dashed -->
  <path d="M 60,480 L 30,480 L 30,73" fill="none" stroke="#999" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrow-dashed)"/>
  <text x="22" y="300" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#999" transform="rotate(-90 22 300)">localhost:80</text>

  <!-- Edge: Developer â†’ Dashboard (browser) -->
  <path d="M 170,55 L 700,55 L 700,90 L 740,90 L 740,195" fill="none" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="730" y="145" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#666">browser</text>

  <!-- Edge: Developer â†’ Sync (edit files) -->
  <path d="M 170,60 L 780,60 L 780,100 L 810,100 L 810,310" fill="none" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="818" y="210" font-family="Arial, Helvetica, sans-serif" font-size="10" fill="#666">edit files</text>
</svg>
